<app-cabecera></app-cabecera>

<!-- Obtener la serie seleccionada en Home (GET ONE SERIES) -->
<ion-content bg-color="red">
        <ion-card>
            <!-- Slides en el header de la card -->
            <ion-card-header>
                <ion-slides pager="true">
                    <!-- Slide por cada imágen -->
                    <ion-slide *ngFor="let imagen of serie.imagenes">
                        <img [src]="imagen" class="card-img-top">
                    </ion-slide>
                </ion-slides>
            </ion-card-header>
            <!-- Título Serie -->
            <ion-card-title>
                <ion-title>
                    {{serie.titulo}}
                </ion-title>
            </ion-card-title>
            <!-- Resto de atributos -->
            <ion-card-content>
                <br>
                <ion-label>Categorías: {{serie.categorias}}</ion-label>
                <br>
                <ion-label>Número de capítulos: {{serie.numCapitulos}}</ion-label>
                <br>
                <ion-label>Año de emisión: {{serie.anyoEmision}}</ion-label>
                <br>
                <ion-label>Sinopsis: {{serie.sinopsis}}</ion-label>
                <br>
                <ion-badge>Puntuación: {{media}} </ion-badge>  <!-- Mostrar la media -->
            </ion-card-content>

            <!-- FORM PARA PUNTUAR SERIE (EMAIL Y NOTA) -->
            <!-- Tiene que añadir email y nota al objeto puntuación y meter el objeto en la lista de puntuaciones de la serie -->
            <form #puntuacionForm="ngForm" (ngSubmit)="enviarFormulario(serie, puntuacionForm)">

                <ion-card>
                    <ion-card-header>¿Ya has visto esta serie? ¡Puntúala!</ion-card-header>

                    <ion-card-subtitle>
                        <ion-item>
                            <input type="email" name="email" #email="ngModel"
                                   [(ngModel)]="puntuacion.email" placeholder="Introduce un email válido para poder votar"
                                   required pattern="^([a-zA-Z0-9_\-\.]+@[a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$" />
                            <!-- Activar BTN cuando el email sea válido -->
                            <ion-button type="submit" expand="full" [disabled]="puntuacionForm.invalid"
                                        class="btn btn-success">
                                Votar
                            </ion-button>
                        </ion-item>
                    </ion-card-subtitle>

                    <ion-card-subtitle>
                        <ion-item>
                            <ion-range
                                       name="nota" #nota="ngModel" [(ngModel)]="puntuacion.nota"
                                       pin="true" snaps="true" ticks="true" min="1" max="10" color="primary" step="1" >
                                <ion-label slot="start">1</ion-label>
                                <ion-label slot="end">10</ion-label>
                            </ion-range>
                        </ion-item>
                    </ion-card-subtitle>
                </ion-card>

            </form>
            <!-- FIN FORM -->
        </ion-card>


    <!-- FAB con redes sociales (floating action button)-->
    <ion-fab horizontal="end" vertical="bottom" slot="fixed">
        <!-- Botón y posición -->
        <ion-fab-button>
            <ion-icon name="Add">
            </ion-icon>
        </ion-fab-button>
        <!-- Lista de 3 botones que se abrirá al pulsar el botón del fab y
        (hacia donde va a desplegarse) 1 hacia arriba y otra hacia la izquierda -->
        <ion-fab-list side="top">
            <!-- Botón Facebook -->
            <ion-fab-button color="facebook">
                <ion-icon name="logo-facebook"></ion-icon>
            </ion-fab-button>
            <!-- Botón Youtube -->
            <ion-fab-button color="youtube">
                <ion-icon name="logo-youtube"></ion-icon>
            </ion-fab-button>
            <!-- Botón Twitter -->
            <ion-fab-button color="twitter">
                <ion-icon name="logo-twitter"></ion-icon>
            </ion-fab-button>
        </ion-fab-list>

        <!-- Lista de FABS en horizontal -->
        <ion-fab-list side="start">
            <!-- Botón Vimeo -->
            <ion-fab-button color="vimeo">
                <ion-icon name="logo-vimeo"></ion-icon>
            </ion-fab-button>
            <!-- Botón Google -->
            <ion-fab-button color="google">
                <ion-icon name="logo-google"></ion-icon>
            </ion-fab-button>
            <!-- Botón Github -->
            <ion-fab-button color="github">
                <ion-icon name="logo-github"></ion-icon>
            </ion-fab-button>
        </ion-fab-list>
    </ion-fab>

</ion-content>
